(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{147:function(t,a,s){"use strict";function n(t,a,s,n,e,r,c,o){var i,v="function"==typeof t?t.options:t;if(a&&(v.render=a,v.staticRenderFns=s,v._compiled=!0),n&&(v.functional=!0),r&&(v._scopeId="data-v-"+r),c?(i=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},v._ssrRegister=i):e&&(i=o?function(){e.call(this,this.$root.$options.shadowRoot)}:e),i)if(v.functional){v._injectStyles=i;var _=v.render;v.render=function(t,a){return i.call(a),_(t,a)}}else{var l=v.beforeCreate;v.beforeCreate=l?[].concat(l,i):[i]}return{exports:t,options:v}}s.d(a,"a",function(){return n})},150:function(t,a,s){"use strict";s.r(a);var n=s(147),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"项目常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目常见问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目常见问题")]),s("h2",{attrs:{id:"canvas-svg-转化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvas-svg-转化","aria-hidden":"true"}},[t._v("#")]),t._v(" Canvas / SVG 转化")]),s("h3",{attrs:{id:"_1-canvas-生成的图片是黑色-透明-（canvas-todataurl-image-jpeg-）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-canvas-生成的图片是黑色-透明-（canvas-todataurl-image-jpeg-）","aria-hidden":"true"}},[t._v("#")]),t._v(' 1. Canvas 生成的图片是黑色/透明 （canvas.toDataURL("image/jpeg")）')]),s("blockquote",[s("p",[t._v("图片还没加载完毕 就已经绘制了")])]),s("ul",[s("li",[t._v("图片绘制失败: 对图片的处理请放在图片的img.onload事件里。")])]),s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    img"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v(" something \n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n")])])]),s("h3",{attrs:{id:"_2-canvas提示被污染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-canvas提示被污染","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. Canvas提示被污染")]),s("blockquote",[s("p",[t._v("受限于 CORS 策略，图片跨域问题")])]),s("ul",[s("li",[t._v("请求代理")]),s("li",[t._v("开发环境下可将浏览器设置为跨域模式")]),s("li",[t._v("使用同域名下的图片或者用base64。")]),s("li",[t._v("img.setAttribute(\"crossOrigin\",'Anonymous')")])]),s("h3",{attrs:{id:"_3-利用canvg进行svg转canvas背景样式未渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-利用canvg进行svg转canvas背景样式未渲染","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 利用Canvg进行SVG转Canvas背景样式未渲染")]),s("blockquote",[s("p",[t._v("SVG背景样式将不会被绘制至Canvas")])]),s("ul",[s("li",[t._v("绘制元素前，在画布最底层绘制一个充满全画布的rect，对此元素作背景设置")])]),s("h3",{attrs:{id:"_4-svg转canvas为黑色-透明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-svg转canvas为黑色-透明","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. SVG转Canvas为黑色/透明")]),s("blockquote",[s("p",[t._v("一. SVG未抓取完全； 二. canvg生成canvas未绘制完成；")])]),s("ul",[s("li",[t._v("canvg()参数二为'< svg >...</ svg >'，svg根标签")])]),s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{attrs:{class:"token function"}},[t._v("canvg")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'< svg >...</ svg >'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),s("ul",[s("li",[t._v("在canvg转化完毕的cb里进行操作：")])]),s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{attrs:{class:"token function"}},[t._v("canvg")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("$")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'#j_svg_container'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("html")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("trim")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    renderCallback"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v(" smoething \n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"svg-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#svg-js","aria-hidden":"true"}},[t._v("#")]),t._v(" SVG.JS")]),s("h3",{attrs:{id:"_1-rect设置背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-rect设置背景","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. rect设置背景")]),s("blockquote",[s("p",[t._v("利用fill替代draw方法")])]),s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    rect"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fill")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// str可为#fff，也可以为bg.svg")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-移动端-字体大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-移动端-字体大小","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 移动端 字体大小")]),s("blockquote",[s("p",[t._v("由于 'font-size' 有诸多不便，即新增size以同步'font-size'进行更改字体大小")])])])}],!1,null,null,null);a.default=e.exports}}]);